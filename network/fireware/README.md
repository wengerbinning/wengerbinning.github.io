防火墙是对经过的报文按照匹配规则进行处理

防火墙根据场景可以分为主机防火墙与网络防火墙，根据方案可以分为硬件防火墙与软件防火墙

iptables类似于一个客户端代理，将客户的安全设定执行的对应的安全框架中，该框架是netifiter,是真正的防火墙。


netifiter是防火墙正真的安全框架，位于内核中。

数据包从客户端程序发出，需要经过tcp/ip协议栈到网卡上出去，回来的数据包也需要从网卡经过tcp/ip协议栈传递给用户程序，从而在这里会出现input与output关卡来根据规则处理数据包，这些关卡在iptables中称为链。

当本设备的内核支持IP_FORWARD时，该设备可以将报文转发给其他设备，这里会存在其他关卡，即其他链路由前、转发、路由后。

所以在启动防火墙后，数据包会根据场景经过不同的链（关卡）：

当数据不转发时，会经过input（数据进来从网卡进来到用户空间的过程）与output（数据从用户空间到网卡出去），； ---- 本设备的报文
当数据需要转发时，会经过prerouting（路由前)、forward（转发）、postrouting（路由后）. 
