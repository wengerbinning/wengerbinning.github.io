终端IO系统是中哦终端、计算机之间的直接连接、调制解调器以及打印机等。

在20世纪年代后期，UNIX system III在V7的基础上发展了一套不同的终端例程; 形成了两种不同的风格。
UNIX System V继承了UNIX System III的风格， V7成为BSD派生的系统终端IO标准。

POSIX.1在这两种风格的基础上制定了终端IO的标准。

终端IO有两种工作模式规范模式输入处理与非规范模式输入处理；



规范模式输入处理
-------------

对终端输入以行为单位进行处理， 对于每个读请求， 终端驱动层序最多返回一行；
默认是规范模式输入处理

非规范模式输入处理
---------------

对终端输入字符不装配成行。例如vi（vim）等程序。


终端设备是由终端驱动控制， 在终端驱动中存在一个输入队列与输出队列。对此有一下说明：
* 打开会回显功能， 在输入队列与输出队列之间有一个隐含的连接；
* 输入队列的长度MAX_INPUT是有限值；MAX_CANON; 


所有可以检测和更改的终端设备特性都包含在termios结构体中<termios.h>; 

```c
struct termios {
    tcflag_t c_iflag;       /* input flags */
    tcflag_t c_oflag;       /* output flags */
    tcflag_t c_cflag;       /* control flags */
    tcflag_t c_lflag;       /* local flags */
    cc_t     c_cc[NCCS];    /* control characters */
};
```

* 输入标志通过终端设备驱动程序控制字符的输入；剥除输入字节的第8位， 允许输入奇偶校验。



* 输出标志通过终端设备驱动程序控制字符的输出；执行输出处理， 将换行符转化为CR/LF。

* 控制标志影响RS-232串行线；忽略调制解调器的状态线， 每一个字符的一个或两个停止位。

| 标志 | POSIX.1 | FreeBSD8.0 | Linux3.2.0 | Mac OS X 10.6.8 | Solaris 10 | 说明 |
|:---:|:---:|:---:|:---:|:---:|:---:|:--- |
| CBAUDEXT | | | | | 1 | 扩充的波特率 |
| CCAR_OFLOW | | 1 | | 1 | | 输出的DCD流控制 |
| CCTS_OFLOW | | 1 | | 1 | 1 | 输出的CTS流控制 |
| CDSR_OFLOW | | 1 | | 1 | | 输出的DSR流控制 |
| CDTR_IFLOW | | 1 | | 1 | | 输出的DTR流控制 |
| CIBAUDEXT | | | | | 1 | 扩充输入波特率 |
| CIGNORE | | 1 | | 1 | |  忽略控制标志 |
| CLOCAL | | | | | | 忽略调制解调器状态行 |
| CMSPAR | | | | | | 表标志或空奇偶性 |
| CREAD |  | | | | | 启用接收装置 |

* 本地标志影响驱动程序和用户之间的接口； 例如回显打开或关闭， 可视地擦除字符、允许终端产生的信号以及后台输出的作业控制停止信号。

* 可以更改的特殊字符
POSIX.1
-------

POSIX.1定义了11个特殊字符， 其中9个可以修改。



