# 对象

对象是指计算机处理的对象，可能是抽象的数据对象，也可能是客观世界的事物经抽象而形成的模型。具体而言，对象是内存存储、算法处理的对象。是按照特性的数据类型存储在内存中，
并具有特定的作用区域与生存周期。

数据对象是计算机描述事物（可以是客观的事物，也可以是抽象的事物）的模型。拥有对象名称、内存区域、作用区域、生存周期等特征。在使用数据对象之前需要声明
一个数据对象。数据对象的声明即说明一个数据对象的对象名称以及数据类型；一般情况，在声明的同时会默认定义该对象（即申请一块内存空间，并根据情况可能初始
化对象）。

* 对象名称：即标识符，标识符根据对象的使用场景会有不同的推荐规范。

* 内存区域：内存区域是数据对象存储对象成员的空间。

    内存区域包含内存地址、存储类型（数据类可型）、存储内容、存储方式等属性。

    * 内存地址：有大端与小端之分。
    * 存储类型：即我们所说的数据类型，是程序管理内存空间的依据。
      * 存储内容：存储内容是内存空间具体存储的数据，必须与存储类型相符合。
      * 存储方式：存储类别共有两大类：动态存储类别与静态存储类别，其中自动存储类别有auto与register，静态存储类别有extern与static。

        动态存储类别是对象在声明时不分配内存仅在使用时分配的存储方式，静态存储类别是在对象声明时就分配的存储方式。
    
        > * auto：自动存储方式。是C++默认的存储方式，一般可以省略描述符。默认情况下，全局变量与局部变量都是采用自动存储方式。
        > * register：寄存器存储方式。只有局部变量和形式参数才可以定义为寄存器变量。并不能保证一定分配在寄存器中。
        > * extern：外部存储方式。表明该变量在程序开始时就建立了外部变量。其实是已在其他文件中已声明。一般全局变量与函数具有外部属性。
        > * static：静态存储方式。是在对象定义时分配内存，程序结束时注销。对静态局部变量，会自动初始化为零值。

    * 作用区域：即数据对象可以正常访问的上下文。经常使用的作用域有全局作用域、局部作用域、区块作用域。
  
      > * 全局作用域：在整个项目中所有区域都可以正常访问。一般为全局变量的作用域。
      > * 模块作用域：即命名空间作用域，在整个命名空间内部都可以正常访问。
      > * 文件作用域：仅在该源码文件中可以正常访问。一般为默认的const常量，静态对象。
      > * 局部作用域：仅在函数或类的内部可以正常访问。一般为局部变量的作用域。
      > * 区块作用域：仅在一个区块中可以正常访问。一般在for、while、switch、if中常见。

    * 生存周期：数据对象的生存周期即数据对象存在的周期，分别有程序生存期、函数生存期、区块生存期。

      * 程序生存期：对象的生存期是自对象声明时创建到程序结束时销毁。
      * 局部生存期：对象的生存期是自对象生命时创建到函数返回时销毁。
      * 区块生存期：对象的生存期是自对象声明时创建到所在区块末销毁。

* 对象初始化：其中有一些对象的声明必须指定初始值来初始化，初始化的函数有两种直接初始化与赋值初始化。

  * 直接初始化：使用小括号的方式来指定初始化值初始化`int var_int(12);`。
  * 赋值初始化：使用赋值符号来指定初始化值进行初始化`int var_int = 12;`。


* 变量是存储内容可以改变的数据对象。数据变量根据其作用区域可以分为全局变量、局部变量。

  * 全局变量：是定义在函数或类的外部的数据变量。如果未指定初始值，通常被初始化为零值。

  ```c++
  int global_int;
  ```

  > Note：全局变量的作用域默认为全局作用域。既由extern来修饰。

  * 局部变量：是定义在函数内部的数据变量。如果未指定初始值，则不会被初始化。

  ```c++
  void Print(int index) {
    int temp;
  }
  ```
  
根据生存周期可以分为静态变量、动态变量等。

  * 静态变量：
  * 动态变量：



* 常量即存储内容不可以改变的对象。可以分为字面值常量、编译时常量、运行时常量。字面值常量只能是标准数据类型的值。在C++中，使用`const`或`constexpr`来标识常量。constexpr是在编译时初始化，而const时在运行时初始化。

  * 编译时常量：这种方式声明常量时，初始值须在编译时就可以确定

  ```c++
  // 字符串类型的编译时常量。
  constexpr string CON_AUTHOR = "Clark Aaron";
  ```

  * 运行时常量：在运行时可以声明的常量，必须在声明时指定初始化值。

  ```c++
  // string类型的运行时常量。
  const string STR_AUTHOR = "Clark Aaron";
  ```

  > Note：在默认的const常量中，其作用域一般为文件作用域，如果在声明时指定为extern常量，则作用域为全局变量。


## 动态内存

由动态内存分配的对象与创建位置无关，只有当被显式调用，才会被释放。全局变量在程序启动时创建，程序结束时销毁；局部自动变量，在进入其所定义的程序块中创建，离开程序块时销毁；局部静态变量，是在第一次使用前分配，程序结束时销毁。

为了更加安全的使用动态对象，在标准库中定义了两个智能指针来管理动态内存分配的对象。当对象需要销毁时，指向它的智能指针可以确保自动释放。

静态内存用来保存局部静态变量，类静态数据成员，以及任何定义在函数之外的变量。

栈内存用来保存定义在函数内部的非静态变量。

静态内存与栈内存由编译器管理。

除静态内存与栈内存，在程序中还存在一个内存池，被称作自由空间或堆，存储动态分配的对象。

动态内存的管理是通过一对运算符来完成的new与delete.

忘记释放，出现内存泄漏；


`shared_ptr`允许多个该类型指针指向同一个对象， `unique_ptr`则仅允许一个该类型指针指向一个对象；`weak_ptr`是一个伴随类，是一种弱引用，指向share_ptr所管理的对象。三类类型都在memory头文件中。


智能指针也是模板

* `shared_ptr`
