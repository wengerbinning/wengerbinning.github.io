worker_processes          1;

events {
  worker_connections      1024;
}

http {
	include                 mime.types;
	default_type            application/octet-stream;
	sendfile                on;
	keepalive_timeout       65;
	gzip                    on;

	server {
		listen 80;

		location /gitweb.cgi {
			include fastcgi_params;
			gzip off;
			fastcgi_param   SCRIPT_FILENAME  /usr/share/gitweb/gitweb.cgi;
			fastcgi_param   GITWEB_CONFIG  /etc/gitweb.conf;
			fastcgi_pass    unix:/run/fcgiwrap.sock;
		}

		location / {
			root /usr/share/gitweb;
			index gitweb.cgi;
		}
	}
}
