# Python的正则表达式

[//]: # (__author__ = "Clark Aaron")

正则表达式对字符串进行匹配;

## re模块

* 在Python中使用re模块来处理正则表达式;
* match(pattern,string):对待匹配的字符串按照从左至右的顺序,使用正则表达式进行匹配,pattern为正则表达式,string为待匹配的字符串,匹配成功返回一个Match对象,否则返回None;
  ```
  import re
  string = "I am learning Python"
  Match = re.match("Python",string)
  print(Match) 
  print(Match.group())      #返回匹配的子字符串;
  ```

## 单字符串匹配
---
* 常用单字符匹配符号:

| 符号 | 说明 | 符号 | 说明 |
|:---- |:---- |:---- |:--- |
| . | 匹配除'\n'之外的所有字符 | [] | 匹配[]中列举的字符 |
| \d | 匹配0~9之间的所有字符,等价于[0~9] | \D | 匹配以个非数字的字符串,等价于[^0~9] |
| \s | 匹配任意空白字符 | \S | 匹配任意非空白字符 |
| \w | 匹配单词字符 | \W | 匹配非单词字符 |

## 数量表示
---
* 多次匹配字符串的匹配符号,匹配前一个字符的次数:

| 符号 | 说明 | 符号 | 说明 | 
|:---- |:---- |:---- |:---- |
| * | 匹配一个字符出现0次或多次 | + | 匹配一个字符至少出现一次 |
| ? | 匹配一个字符至多出现一次 | {m} | 匹配一个字符出现m次 |
| {m,} | 匹配一个字符至少出现m次 | {m,n} | 匹配一个字符出现m到n次 |

## 边界表示
---
* 将前一个字符边界表示;

| 符号 | 说明 | 符号 | 说明 |
|:---- |:---- |:---- |:--- |
| ^ | 匹配字符串的开头 | $ | 匹配字符串结尾 |

## 转义字符
---
* 特殊字符前添加'\',将转义为普通字符;
* 除使用转义字符,可以在字符串前面添加'r',将字符串中所有的特殊字符普通化;

## 匹配分组
---
* 匹配分组符号:

| 符号 | 说明  | 符号  | 说明  |
|:---- |:----- |:----- |:----- |
| \| | 连接多个表达式,表示或 | () | 将括号中字符串作为一个分组 |
| \NUM | 结合'()'分组使用,引用分组NUM对应的匹配规则 | (?P<name>) | 给分组器起别名 |
| (?P=name) | 根据组名使用分组中正则表达式 |

```
rs = r"<(.+)><.+>.+</\2></\1>"
rs = r"<(?P<g1>.+)><(?P<g2>).+>.+</?P=g2></?P=g1>"
```

## 内置函数
---

* match():判断是否匹配,返回一个Match对象;
* compile():编译正则表达式,返回一个正则表达式对象,匹配时可以复用;
  ```
  pattern = re.compile("\w{4,10}@163\.com$")
  ```
* search(str1, str2):从字符串2中匹配字符串1,并返回;
* findall(pattern, string):在字符串中查找正则表达式匹配成功的所有字符串,返回列表;
* finditer(pattern, string):在字符串中查找正则表达式匹配成功的所有字符串,并返回可迭代对象;
* sub(pattern,<替换字符串>,string):将匹配成功的子符串使用指定字符串替换;
* split():切片操作;

## 贪婪模式
---
* 贪婪模式:Python中的正则表达式解析器默认为贪婪模式(尽可能多的匹配字符串);
* 非贪婪模式:(尽可能少的匹配字符串)在表示数量的符号后添加?,即可采用非贪婪模式匹配字符串;

